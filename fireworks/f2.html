<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Particle Test</title>
  <style>
    body { margin: 0; background: black; }
    canvas { display: block; }
  </style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let lastTime = performance.now();

// one particle
class pc {
  constructor() {
    this.lifetime = Math.floor(Math.random() * 200) + 100; // frames
    this.reset();
  }
  reset() {
    this.x = 960;
    this.y = 700;
const baseAngle = -Math.PI / 2; // straight up
const spread = Math.PI / 1.3;     // cone - more number = tighter cone
const angle = baseAngle + (Math.random() - 0.5) * spread;
const speed = 2 + Math.random() * 3;         // 2â€“5 px/frame
this.vx = Math.cos(angle) * speed;
this.vy = Math.sin(angle) * speed - 3;       // bias upward
    this.age = 0;  
    this.alpha = 1;
  }
  update() {
      this.x += this.vx;
      this.y += this.vy;
      this.vy += 0.05; // gravity per frame
      this.vx += Math.random() * 0.01; // wind 
      this.age++;
      this.alpha = 1 - this.age / this.lifetime;

      // reset when dead
      if (this.age > this.lifetime || this.alpha <= 0) {
        this.reset();
      }  
  }
  draw(ctx) {
      ctx.fillStyle = `rgba(255,200,100,${this.alpha})`;
      ctx.beginPath();
      ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
      ctx.fill();
  }
}
//const p = new pc();
const ps = [];
for ( let i = 0; i < 16; i++)
    ps.push(new pc());

function loop(now) {
  requestAnimationFrame(loop);
  const dt = now - lastTime;
  lastTime = now;
      ctx.fillStyle = "rgba(0,0,0,0.2)"; // translucent clear for trails
      ctx.fillRect(0, 0, canvas.width, canvas.height);

  for ( const p of ps ) {
    p.update();
    p.draw(ctx);
  }
}

loop(lastTime);
</script>
</body>
</html>
